## 时序逻辑的分析与设计

[toc]

### 1-1 同步时序电路的分析方法

* 基本步骤

![image-20251204183858392](时序逻辑的分析与设计.assets/image-20251204183858392.png)

![image-20251204184018833](时序逻辑的分析与设计.assets/image-20251204184018833.png)

![image-20251204184114304](时序逻辑的分析与设计.assets/image-20251204184114304.png)

![image-20251204184200842](时序逻辑的分析与设计.assets/image-20251204184200842.png)



***

* 例1

![image-20251204184439710](时序逻辑的分析与设计.assets/image-20251204184439710.png)



![image-20251204184655940](时序逻辑的分析与设计.assets/image-20251204184655940.png)

![image-20251204184748862](时序逻辑的分析与设计.assets/image-20251204184748862.png)

* 计算,列状态表
  * 注意输入不再是000 001 010等,而是需要根据现态和次态确定(根据输出方程)

![image-20251204185302353](时序逻辑的分析与设计.assets/image-20251204185302353.png)

* 状态表前6种为有效状态,后2种为无效状态

* 简化版本:

![image-20251204185457726](时序逻辑的分析与设计.assets/image-20251204185457726.png)

* 状态转换图

![image-20251204185714119](时序逻辑的分析与设计.assets/image-20251204185714119.png)

![image-20251204185817243](时序逻辑的分析与设计.assets/image-20251204185817243.png)

* 时序图

![image-20251204185904904](时序逻辑的分析与设计.assets/image-20251204185904904.png)

* 功能说明

![image-20251204185949135](时序逻辑的分析与设计.assets/image-20251204185949135.png)

***

* 例2

![image-20251204191244763](时序逻辑的分析与设计.assets/image-20251204191244763.png)

* 写方程式 + 状态方程

![image-20251204191329125](时序逻辑的分析与设计.assets/image-20251204191329125.png)

* 计算,列状态表

  * X = 0时进行化简
  * ![image-20251204191749998](时序逻辑的分析与设计.assets/image-20251204191749998.png)

  * X = 1 时进行化简
  * ![image-20251204192055510](时序逻辑的分析与设计.assets/image-20251204192055510.png)

* 状态转换图

![image-20251204192251054](时序逻辑的分析与设计.assets/image-20251204192251054.png)

### 1-2 异步时序电路的分析方法

![image-20251204194145821](时序逻辑的分析与设计.assets/image-20251204194145821.png)

***

* 例1 

![image-20251204194255329](时序逻辑的分析与设计.assets/image-20251204194255329.png)

![image-20251204194357125](时序逻辑的分析与设计.assets/image-20251204194357125.png)

* ==**异步需要特别注意各个状态方程的激活时钟!**==

![image-20251204194719283](时序逻辑的分析与设计.assets/image-20251204194719283.png)

![image-20251204194832981](时序逻辑的分析与设计.assets/image-20251204194832981.png)

### 1-3 同步时序电路的设计方法

* 基本步骤

![image-20251204203251524](时序逻辑的分析与设计.assets/image-20251204203251524.png)

***

* 例1 

![image-20251204203417028](时序逻辑的分析与设计.assets/image-20251204203417028.png)

![image-20251204203519268](时序逻辑的分析与设计.assets/image-20251204203519268.png)

![image-20251204203610321](时序逻辑的分析与设计.assets/image-20251204203610321.png)

* 重点:状态方程

  * 绘制次态卡诺图:

    * 格子外为现态
    * 格子内填写次态
    * ![image-20251204203829988](时序逻辑的分析与设计.assets/image-20251204203829988.png)

    * 各自的次态卡诺图
    * ![image-20251204203931782](时序逻辑的分析与设计.assets/image-20251204203931782.png)

    * ![image-20251204203955938](时序逻辑的分析与设计.assets/image-20251204203955938.png)

* 求驱动方程

![image-20251204204204708](时序逻辑的分析与设计.assets/image-20251204204204708.png)

![image-20251204204224348](时序逻辑的分析与设计.assets/image-20251204204224348.png)

![image-20251204204409336](时序逻辑的分析与设计.assets/image-20251204204409336.png)

![image-20251204204514908](时序逻辑的分析与设计.assets/image-20251204204514908.png)

***

* 例2 

![image-20251204204822533](时序逻辑的分析与设计.assets/image-20251204204822533.png)

![image-20251204204905715](时序逻辑的分析与设计.assets/image-20251204204905715.png)

![image-20251204205017257](时序逻辑的分析与设计.assets/image-20251204205017257.png)

![image-20251204205925786](时序逻辑的分析与设计.assets/image-20251204205925786.png)

![image-20251204205935203](时序逻辑的分析与设计.assets/image-20251204205935203.png)

![image-20251204210131640](时序逻辑的分析与设计.assets/image-20251204210131640.png)

![image-20251204210323696](时序逻辑的分析与设计.assets/image-20251204210323696.png)

***

* 总结:

  * ==**关于卡诺图**==:有两种
    * Y和外部输入以及Q的表示(也就是输出),那么卡诺图内部仍然是像以前学习的那样直接画1 or 0 , 最后得到Y和上述的关系
    * Q的次态(n+1)作为卡诺图的结果 , Q的现态作为卡诺图的0 1 00 01 11 10 ,并且最好是所有的Q全部列在一个卡诺图,因为有状态方程转移,所以内部的框可以直接填写次态结果
    * 注意:**无效状态视为约束项(画X),视情况决定是否需要取(在卡诺图中)**

  * 选取的触发器个数看代码的位数
  * 最重要的还是画出状态转移图,最好化到最简



### 1-4 异步时序电路的设计方法

* 难点:内部时钟如何选择
* 卡诺图绘制时钟问题

***

* 例题

![image-20251204212715883](时序逻辑的分析与设计.assets/image-20251204212715883.png)

![image-20251204212749218](时序逻辑的分析与设计.assets/image-20251204212749218.png)

![image-20251204212840547](时序逻辑的分析与设计.assets/image-20251204212840547.png)

***

* 关键:求时钟方程
  * 重点在于Qi翻转时总能找到某个信号总是有翻转!
  * 其次就是触发沿越少越好

![image-20251204213259165](时序逻辑的分析与设计.assets/image-20251204213259165.png)

![image-20251204213307211](时序逻辑的分析与设计.assets/image-20251204213307211.png)

***

* 关键:求状态方程
  * 关键在于修正!!!
  * 先假设使用CP沿,得到卡诺图
  * **再根据真实的沿信号得到修正卡诺图,相关与CP有关但是与沿信号无关的修正为X(无论先前是0还是1,其实也就是只保留与沿信号有关的方格,其他的都变成X)**

![image-20251204213340059](时序逻辑的分析与设计.assets/image-20251204213340059.png)

* 下面是修正前(以CP作为参考)

![image-20251204213749863](时序逻辑的分析与设计.assets/image-20251204213749863.png)

* 下面是修正后(约束,千万记得保持项!!!也是相关时钟驱动的结果,不翻转不代表没有经过沿更新!)

![image-20251204213910062](时序逻辑的分析与设计.assets/image-20251204213910062.png)

* Q1同理

![image-20251204214245196](时序逻辑的分析与设计.assets/image-20251204214245196.png)

* 受CP控制的不需要修正

![image-20251204214343532](时序逻辑的分析与设计.assets/image-20251204214343532.png)

***

![image-20251204214416054](时序逻辑的分析与设计.assets/image-20251204214416054.png)

![image-20251204214548505](时序逻辑的分析与设计.assets/image-20251204214548505.png)